{% extends 'base.html' %}
{% load static %}

{% block title %}Scientific Article Registrations{% endblock title %}

{% block style %}<link rel="stylesheet" href="{% static 'regisform/form.css' %}">{% endblock style %}

<body>
  <div class="main-wrapper">
{% block isi %}
<div class="leftline">
  <div class="line"></div>
  <div class="line"></div>
  <div class="line"></div>
  <div class="line"></div>
</div>
<div class="rightline">
  <div class="line"></div>
  <div class="line"></div>
  <div class="line"></div>
  <div class="line"></div>
</div>

  <div class="judul">
    <h1>SCIENTIFIC ARTICLE REGISTRATIONS</h1>
    <div class="garisbawah"></div>      
      <div class="form-v9">
        <div class="page-content">
          <div class="form-v9-content">
            <form class="form-detail" action="#" method="POST" enctype="multipart/form-data">
              {% csrf_token %}
              <div class="form-row-total">
                <div class="form-group form-input form-row">
                    <input type="text" id="nama" name='nama_ketua' required/>
                    <label for="name" class="form-label">Name</label>
                </div>
                <div class="form-group form-input form-row">
                    <input type="text" id="email" name='email' required/>
                    <label for="name" class="form-label">Email</label>
                </div>

                <!-- <div class="form-row">
                  <input type="text" name="your-email" id="your-email" class="input-text" placeholder="Email" required pattern="[^@]+@[^@]+.[a-zA-Z]{2,6}">
                </div> -->
              </div>
              
              <div class="form-row-total">
                <div class="form-group form-input form-row">
                    <input type="number" id="no_telepon" name="no_telepon" value="" required />
                    <label for="phone" class="form-label">Phone Number</label>
                </div>
                <div class="form-group form-input form-row">
                    <input type="text" id="prodi" name='prodi_ketua' required/>
                    <label for="name" class="form-label">Study Program</label>
                </div>
              </div>
              
              <div class="form-row-total">
                <div class="form-group form-input form-row">
                    <input type="text" id="instansi" name='instansi' required/>
                    <label for="name" class="form-label">Institute</label>
                </div>
                <div class="form-group form-input form-row cselect">
                    <select required>
                      <option value="" disabled selected hidden></option>
                      <option value="Smart Infrastructure">Smart Infrastructure</option>
                      <option value="Smart Living">Smart Living</option>
                      <option value="Smart Energy">Smart Energy</option>
                      <option value="Smart Farming">Smart Farming</option>
                      <option value="Smart Manufacturing">Smart Manufacturing</option>
                    </select>
                    <label for="name" class="form-label">Subtheme</label>
                </div>
              </div>

              <div class="form-row-total">
                <div class="form-group form-input form-row">
                    <input type="text" id="nama_anggota1" name='nama_anggota1' required/>
                    <label for="name" class="form-label">Member Name</label>
                </div>
                <div class="form-group form-input form-row">
                    <input type="text" id="prodi_anggota1" name='prodi_anggota1' required/>
                    <label for="name" class="form-label">Member Study program</label>
                </div>
              </div>
              
              <div class="form-row-total">
                <div class="form-group form-input form-row">
                    <input type="text" id="nama_anggota2" name='nama_anggota2' required/>
                    <label for="name" class="form-label">Member Name</label>
                </div>
                <div class="form-group form-input form-row">
                    <input type="text" id="prodi_anggota2" name='prodi_anggota2' required/>
                    <label for="name" class="form-label">Member Study Program</label>
                </div>
              </div>

              <div class="upload-btn-wrapper">
                    <label for="name" class="tombol_up">File Abstract</label>
                    <button class="btn">Upload a file</button>
                    <input type="file" id="file_abstrak" name='file_abstrak' required/>
                    <span id="abstrak_chosen">No file chosen</span>
              </div>

              <div class="upload-btn-wrapper">
                    <label for="name" class="tombol_up">Student ID Card</label>
                    <button class="btn">Upload a file</button>
                    <input type="file" id="file_ktm" name='file_ktm' required/>
                    <span id="ktm_chosen">No file chosen</span>
              </div>

              <div class="upload-btn-wrapper">
                    <label for="name" class="tombol_up">Screenshot Twibbon & Follow</label>
                    <button class="btn">Upload a file</button>
                    <input type="file" id="file_foltwib" name='file_foltwib' required/>
                    <span id="foltwib_chosen">No file chosen</span>
              </div>

              <!-- <div class="form-group">
                    
                    <input type="file" id="actual-btn" hidden/>
                    <button for="actual-btn" class="label-upload">Choose File</button>
                    <span id="file-chosen">No file chosen</span>
              </div> -->
              <div class="form-row-last">
                <input type="submit" class="regist" value="Register" id="register">
              </div>

              <div id="myModal" class="modal">
                <div class="modal-content">
                  <span class="close">&times;</span>
                  <p style="color: black;">Registration Successful</p>
                </div>
              </div>

            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="text/javascript">
   var modal = document.getElementById("myModal");

    // Get the button that opens the modal
    var btn = document.getElementById("register");

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks the button, open the modal 
    
    btn.onclick = function() {
      var namanya = document.getElementById("nama").value;
      var emailnya = document.getElementById("email").value;
      var prodinya = document.getElementById("prodi").value;
      var no_teleponnya = document.getElementById("no_telepon").value;
      var instansinya = document.getElementById("instansi").value;
      var subtemanya = document.getElementById("subtema").value;
      var nama_anggota1nya = document.getElementById("nama_anggota1").value;
      var nama_anggota2nya = document.getElementById("nama_anggota2").value;
      var prodi_anggota1nya = document.getElementById("prodi_anggota1").value;
      var prodi_anggota2nya = document.getElementById("prodi_anggota2").value;
      var file_abs = document.getElementById("file_abstrak").value;
      var file_kt = document.getElementById("file_ktm").value;
      var file_fol = document.getElementById("file_foltwib").value;
      
      if(namanya!= "" && emailnya!="" && prodinya!="" && no_teleponnya!="" && instansinya!="" && subtemanya!="" && nama_anggota1nya!="" && nama_anggota2nya!="" && prodi_anggota1nya!="" && prodi_anggota2nya!="" && file_abs!="" && file_kt!="" && filefol!=""){
        modal.style.display = "block";
      }

       
    }

    const abstrakChosen = document.getElementById('abstrak_chosen');
    const actualAbstrak = document.getElementById('file_abstrak');
    actualAbstrak.addEventListener('change', function(){
      abstrakChosen.textContent = this.files[0].name
    })

    const ktmChosen = document.getElementById('ktm_chosen');
    const actualKtm = document.getElementById('file_ktm');
    actualKtm.addEventListener('change', function(){
      ktmChosen.textContent = this.files[0].name
    })
    
    const foltwibChosen = document.getElementById('foltwib_chosen');
    const actualFoltwib = document.getElementById('file_foltwib');
    actualFoltwib.addEventListener('change', function(){
      foltwibChosen.textContent = this.files[0].name
    })

    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
      modal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }


  </script>
{% endblock isi %}
</body>